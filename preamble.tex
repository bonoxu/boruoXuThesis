\newcommand\hmmax{0}
\newcommand\bmmax{0}
\usepackage{xspace}
%\usepackage{tikz}
\usepackage{morefloats,afterpage}%\usepackage{subfig}
\usepackage{mathrsfs} % script font
\usepackage{verbatim}
\usepackage{amssymb}
\usepackage{tabularx}
%\usepackage{mathtools}
%\usepackage{caption}
\usepackage{subcaption}
\usepackage{epstopdf}
\epstopdfsetup{update}

%\usepackage{CJKutf8}
%\AtBeginDvi{\input{zhwinfonts}}
%% Using Babel allows other languages to be used and mixed-in easily
%\usepackage[ngerman,english]{babel}
\usepackage[british]{babel}
\selectlanguage{british}

%% Citation system tweaks
\usepackage{cite}
% \let\@OldCite\cite
% \renewcommand{\cite}[1]{\mbox{\!\!\!\@OldCite{#1}}}

\renewcommand*{\figureformat}{\figurename~\thefigure}
\renewcommand*{\tableformat}{\tablename~\thetable}


\DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
\DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
\DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
\DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
\DeclareRobustCommand*\cal{\@fontswitch\relax\mathcal}
\DeclareRobustCommand*\mit{\@fontswitch\relax\mathnormal}

\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}

\newenvironment{myfont}{\fontfamily{cmr}\selectfont}{\par}
\DeclareTextFontCommand{\textmyfont}{\myfont}
%% Maths
% TODO: rework or eliminate maybemath
\usepackage{abmath}


\DeclareRobustCommand{\mymath}[1]{\ensuremath{\maybebmsf{#1}}}
\DeclareRobustCommand{\uprightMath}[1]{\MathUpright{\mymath{#1}}}

\DeclareRobustCommand{\Rate}{\mymath{\Gamma}\xspace}
\DeclareRobustCommand{\RateOf}[1]{\mymath{\Gamma}\parenths{#1}\xspace}

\DeclareRobustCommand{\Table}[1]{table \ref{#1}\xspace}
\DeclareRobustCommand{\TABLE}[1]{Table \ref{#1}\xspace}
\DeclareRobustCommand{\Section}[1]{section \ref{#1}\xspace}
\DeclareRobustCommand{\SECTION}[1]{Section \ref{#1}\xspace}
\DeclareRobustCommand{\Chapter}[1]{chapter \ref{#1}\xspace}
\DeclareRobustCommand{\CHAPTER}[1]{Chapter \ref{#1}\xspace}
\DeclareRobustCommand{\Figure}[1]{figure \ref{#1}\xspace}
\DeclareRobustCommand{\FIGURE}[1]{Figure \ref{#1}\xspace}
\DeclareRobustCommand{\Equation}[1]{equation \ref{#1}\xspace}
\DeclareRobustCommand{\EQUATION}[1]{Equation \ref{#1}\xspace}
\DeclareRobustCommand{\Reference}[1]{reference \cite{#1}\xspace}
\DeclareRobustCommand{\REFERENCE}[1]{Reference \cite{#1}\xspace}
%% High-energy physics stuff
\usepackage{abhep}
\usepackage{hepnames}
\usepackage{hepunits}

\newlength{\widthOne}
\setlength{\widthOne}{12cm}

\DeclareRobustCommand{\SM}{SM\xspace}
\DeclareRobustCommand{\QED}{QED\xspace}
\DeclareRobustCommand{\QCD}{QCD\xspace}

\DeclareMathOperator{\Lagr}{\mathcal{L}}
\DeclareRobustCommand{\Dstroke}{\mymath{\gamma^{\mu}D_{\mu}}\xspace}
\DeclareRobustCommand{\Hmass}{\mymath{m_{\PH}}\xspace}


\DeclareRobustCommand{\Zqq}{\HepProcess{ \PZ \to \Pquark\Pquark}\xspace}
\DeclareRobustCommand{\Wqq}{\HepProcess{ \PW \to \Pquark\Pquark}\xspace}

\DeclareRobustCommand{\PhotonReconstruction}{\textsc{Photon Reconstruction}\xspace}
\DeclareRobustCommand{\ShowerPeak}{\textsc{Shower Peak}\xspace}
\DeclareRobustCommand{\peakFinding}{\textsc{2D Peak Finding}\xspace}

\DeclareRobustCommand{\RM}{Moli\`{e}re radius\xspace}

\DeclareRobustCommand{\Zprime}{\HepParticle{Z}{}{\prime}\xspace}
\DeclareRobustCommand{\Zuds}{\HepProcess{ \Zprime \to \Pup\APup/\Pdown\APdown/\Pstrange\APstrange}\xspace}
\DeclareRobustCommand{\eeZuds}{\HepProcess{ \Peplus \Peminus \to \Zprime \to \Pup\APup/\Pdown\APdown/\Pstrange\APstrange}\xspace}
\DeclareRobustCommand{\ISR}{ISR\xspace}
\DeclareRobustCommand{\FSR}{FSR\xspace}

\DeclareRobustCommand{\myDagger}{\mymath{\dagger}\xspace}

\DeclareRobustCommand{\TauTau}{\HepProcess{\APtauon\Ptauon}\xspace}
\DeclareRobustCommand{\TauTauSub}[2]{\HepProcess{\HepParticle{\tau}{#1}{+}\xspace\HepParticle{\tau}{#2}{-}\xspace}\xspace}
\DeclareRobustCommand{\TauFull}[2]{\HepParticle{\tau}{#1}{#2}\xspace}

\DeclareRobustCommand{\MuMu}{\HepProcess{ \APmuon\Pmuon}\xspace}

\DeclareRobustCommand{\HigssTauTau}{\HepProcess{\PHiggs\APtauon\Ptauon}\xspace}
\DeclareRobustCommand{\ZTauTau}{\HepProcess{\PZ\APtauon\Ptauon}\xspace}
\DeclareRobustCommand{\ZToqq}{\HepProcess{\PZ\to\Pquark\Pquark}\xspace}
\DeclareRobustCommand{\HiggsToTauTau}{\HepProcess{\PHiggs \to \APtauon \Ptauon}\xspace}
\DeclareRobustCommand{\ZToTauTau}{\HepProcess{\PZ \to \APtauon \Ptauon}\xspace}
\DeclareRobustCommand{\eeZZ}{\HepProcess{\Pep \Pem \to \PZ\PZ}\xspace}
\DeclareRobustCommand{\eeTauTau}{\HepProcess{\Pep \Pem \to \APtauon\Ptauon}\xspace}
\DeclareRobustCommand{\eeZZQQ}{\HepProcess{\Pep \Pem \to \PZ\PZ \to \APtauon\Ptauon \Pquark\Pquark }\xspace}


\DeclareRobustCommand{\charge}{\HepParticle{\chi}{}{+}\xspace}
\DeclareRobustCommand{\neutral}{\HepParticle{\chi}{}{0}\xspace}
\DeclareRobustCommand{\Pai}{\HepParticle{a}{1}{}\xspace}
\DeclareRobustCommand{\tauToPion}{\HepProcess{\Ptauon \to \Pgpm\Pgngt}\xspace}

\DeclareRobustCommand{\decayElectron}{\HepProcess{\Pem\Pagne\Pgngt}\xspace}
\DeclareRobustCommand{\decayMuon}{\HepProcess{\Pgmm\Pagngm\Pgngt}\xspace}
\DeclareRobustCommand{\decayPion}{\HepProcess{\Pgpm\Pgngt}\xspace}
\DeclareRobustCommand{\decayRhoFinalState}{\HepProcess{\Pgpm\Ppizero\Pgngt}\xspace}
\DeclareRobustCommand{\decayRhoFinalStateShort}{\HepProcess{\Pgpm\Ppizero}\xspace}

\DeclareRobustCommand{\decayRho}{\HepProcess{\rho\Pgngt}\xspace}
\DeclareRobustCommand{\decayAi}{\HepProcess{a_1\Pgngt}\xspace}
\DeclareRobustCommand{\decayAiPhoton}{\HepParticleResonanceFull{a}{1}{}{\Pgpm\Pgpz\Pgpz}{}{}\Pgngt\xspace}
\DeclareRobustCommand{\decayAiPhotonFinalState}{\HepProcess{\Pgpm\Pgpz\Pgpz\Pgngt}\xspace}
\DeclareRobustCommand{\decayAiPhotonFinalStateShort}{\HepProcess{\Pgpm\Pgpz\Pgpz}\xspace}
\DeclareRobustCommand{\decayAiPion}{\HepParticleResonanceFull{a}{1}{}{\Pgpm\Pgpm\Pgpp}{}{}\Pgngt\xspace}
\DeclareRobustCommand{\decayAiPionFinalState}{\HepProcess{\Pgpp\Pgpm\Pgpm\Pgngt}\xspace}
\DeclareRobustCommand{\decayAiPionFinalStateShort}{\HepProcess{\Pgpp\Pgpm\Pgpm}\xspace}

\DeclareRobustCommand{\decayThreePionPhoton}{\HepProcess{\Pgpp\Pgpm\Pgpm\Pgpz\Pgngt}\xspace}


\DeclareRobustCommand{\decayElectronShort}{\Pem\xspace}
\DeclareRobustCommand{\decayMuonShort}{\Pgmm\xspace}
\DeclareRobustCommand{\decayPionShort}{\Pgpm\xspace}


\DeclareRobustCommand{\decayRhoShort}{\HepParticleResonance{\rho}{\Pgpm\Ppizero}{}{}\xspace}
\DeclareRobustCommand{\decayAiPhotonShort}{\HepParticleResonanceFull{a}{1}{}{\Pgpm\Pgpz\Pgpz}{}{}\xspace}
\DeclareRobustCommand{\decayAiPionShort}{\HepParticleResonanceFull{a}{1}{}{\Pgpp\Pgpm\Pgpm}{}{}\xspace}
\DeclareRobustCommand{\decayThreePionPhotonShort}{\HepProcess{\Pgpp\Pgpm\Pgpm\Pgpz}\xspace}

\DeclareRobustCommand{\eeToTauTau}{\HepProcess{ \Pep \Pem \to \Pgtp \Pgtm }\xspace}

\DeclareRobustCommand{\decayRhoShortest}{\HepParticleResonance{\rho}{\Pgpm\Ppizero}{}{}\xspace}
\DeclareRobustCommand{\decayAiPhotonShortest}{\HepParticleResonanceFull{a}{1}{}{\Pgpm\Pgpz\Pgpz}{}{}\xspace}
\DeclareRobustCommand{\decayAiPionShortest}{\HepParticleResonanceFull{a}{1}{}{\Pgpp\Pgpm\Pgpm}{}{}\xspace}
\DeclareRobustCommand{\tauHad}{\mymath{\varepsilon_{had}}\xspace}



\DeclareRobustCommand{\PhotonFragmentRemoval}{\textsc{PhotonFragmentRemoval}\xspace}

\DeclareRobustCommand{\gHHH}{\HepParticle{g}{HHH}{}\xspace}
\DeclareRobustCommand{\gWWH}{\HepParticle{g}{WWH}{}\xspace}
\DeclareRobustCommand{\gWWHH}{\HepParticle{g}{WWHH}{}\xspace}
\DeclareRobustCommand{\rootS}[1]{\sqrtS = #1\,TeV\xspace}
\DeclareRobustCommand{\rootSGeV}[1]{\sqrtS = #1\,GeV\xspace}
\DeclareRobustCommand{\ee}{\HepProcess{ \Pep\Pem}\xspace}
\DeclareRobustCommand{\Egamma}{\HepProcess{ \Pepm\Pgamma}\xspace}
\DeclareRobustCommand{\gammae}{\HepProcess{ \Pgamma\Pepm}\xspace}
\DeclareRobustCommand{\Gammagamma}{\HepProcess{ \Pgamma\Pgamma}\xspace}
\DeclareRobustCommand{\BS}{\text{BS}\xspace}
\DeclareRobustCommand{\EPA}{\text{EPA}\xspace}

\DeclareRobustCommand{\BonoTauFinder}{\textsc{IsolatedTauIdentifer}\xspace}
\DeclareRobustCommand{\BonoLeptonFinder}{\textsc{IsolatedLeptonIdentifer}\xspace}
\DeclareRobustCommand{\IsolatedLeptonFinderProcessor}{\textsc{IsolatedLeptonFinder}\xspace}
\DeclareRobustCommand{\TauFinderProcessor}{\textsc{TauFinder}\xspace}

 \DeclareRobustCommand{\WW}{\HepProcess{\PWplus\PWminus}\xspace}
\DeclareRobustCommand{\eeToHH}{\HepProcess{ \Pep \Pem \to \PHiggs \PHiggs \Pnue \APnue }\xspace}
\DeclareRobustCommand{\eeToHHbbWW}{\HepProcess{ \PHiggs \PHiggs \to \Pbottom \APbottom \PWplus \PWminus}\xspace}
\DeclareRobustCommand{\eeToHHbbqqqq}{\HepProcess{ \PHiggs \PHiggs \to \Pbottom \APbottom \Pq \Pq \Pq \Pq}\xspace}
\DeclareRobustCommand{\eeToHHbbWWFull}{\HepProcess{ \Pep \Pem \to \PHiggs \PHiggs \Pnue \APnue \to \Pbottom \APbottom \PWplus \PWminus}\xspace}
\DeclareRobustCommand{\eeToHHbbWWHad}{\HepProcess{ \PHiggs \PHiggs \to \Pbottom \APbottom \PWplus \PWminus \to \Pbottom \APbottom \Pq \Pq \Pq \Pq}\xspace}
\DeclareRobustCommand{\eeToHHbbWWHadFull}{\HepProcess{ \PHiggs \PHiggs \Pnue \APnue \to \Pbottom \APbottom \PWplus \PWminus  \Pnue \APnue \to \Pbottom \APbottom \Pquark \Pquark \Pquark \Pquark \Pnue \APnue}\xspace}
\DeclareRobustCommand{\HHvv}{\HepProcess{\PHiggs \PHiggs \Pnue \APnue }\xspace}

\DeclareRobustCommand{\eeToHHbbbb}{\HepProcess{ \PHiggs \PHiggs \to \Pbottom \APbottom \Pbottom \APbottom}\xspace}
\DeclareRobustCommand{\eeToHHbbbbFull}{\HepProcess{\Pep \Pem \to  \PHiggs \PHiggs  \Pnue \APnue \to \Pbottom \APbottom \Pbottom \APbottom  \Pnue \APnue}\xspace}
\DeclareRobustCommand{\eeToHHotherFull}{\HepProcess{\Pep \Pem \to  \PHiggs \PHiggs \to \text{others}}\xspace}
\DeclareRobustCommand{\eeTo}[1]{\HepProcess{ \Pep \Pem \to #1 }\xspace}
\DeclareRobustCommand{\ggHad}{\HepProcess{ \Pphoton \Pphoton \to \text{hadrons} }\xspace}
\DeclareRobustCommand{\qlight}{\HepGenParticle{q}{l}{}\xspace}
\DeclareRobustCommand{\Aqlight}{\HepGenAntiParticle{q}{l}{}\xspace}
\DeclareRobustCommand{\llight}{\HepGenParticle{l}{l}{}\xspace}
\DeclareRobustCommand{\egamma}[4]{\HepProcess{ #1 #2 (#3) \to #4}\xspace}
\DeclareRobustCommand{\gammagamma}[5]{\HepProcess{ #1 (#2) #3 (#4) \to #5}\xspace}

\DeclareRobustCommand{\cosTheta}{\mymath{\cos(\MathUpright{\theta})}\xspace}
\DeclareRobustCommand{\absCosTheta}{\mymath{\lvert\cos(\MathUpright{\theta}_{\MathUpright{Z}})\rvert}\xspace}
\DeclareRobustCommand{\rZero}{\mymath{r_{0}}\xspace}
\DeclareRobustCommand{\kt}{\mymath{k_{t}}\xspace}
\DeclareRobustCommand{\y}[1]{\mymath{y_{#1}}\xspace}
\DeclareRobustCommand{\btag}{\mymath{B}\xspace}
\DeclareRobustCommand{\btagFull}[1]{\mymath{B_{#1}}\xspace}
\DeclareRobustCommand{\sumBtag}[1]{\mymath{\Sigma{\btag}_{#1\xspace{jets}}}\xspace}
\DeclareRobustCommand{\partialSumBtag}[3]{\mymath{\sum_{#1}^{#2}{\btag}_{#3\!{\text{jets}}}}\xspace}
\DeclareRobustCommand{\ctagFull}[1]{\mymath{C_{#1}}\xspace}
\DeclareRobustCommand{\sphericity}{\mymath{\textbf{S}}\xspace}
\DeclareRobustCommand{\abs}[1]{\mods{#1}}
\DeclareRobustCommand{\acolinearity}[1]{\mymath{\textit{A}_{#1}}\xspace}
\DeclareRobustCommand{\npfo}[1]{\mymath{N_{#1}}\xspace}
\DeclareRobustCommand{\cosStar}[1]{\mymath{\cosOf{\theta^{*}_{#1}}}\xspace}
\DeclareRobustCommand{\rootOf}[1]{\mymath{\sqrt{#1}}\xspace}

\DeclareRobustCommand{\W*}{\HepParticle{W}{}{*}\xspace}
\DeclareRobustCommand{\Hbb}{\HepParticle{H}{\Pbottom\Pbottom}{}\xspace}
\DeclareRobustCommand{\HWW}{\HepParticle{H}{\PW\W*}{}\xspace}
\DeclareRobustCommand{\HH}{\HepParticle{HH}{}{}\xspace}

\DeclareRobustCommand{\mhh}{\mymath{m_{\HH}}\xspace}
\DeclareRobustCommand{\HT}{\mymath{H_T}\xspace}

\DeclareRobustCommand{\loosePFO}{loose selected PFO collection\xspace}
\DeclareRobustCommand{\normalPFO}{selected PFO collection\xspace}
\DeclareRobustCommand{\tightPFO}{tight selected PFO collection\xspace}
\DeclareRobustCommand{\LoosePFO}{Loose selected PFO collection\xspace}
\DeclareRobustCommand{\NormalPFO}{Normal selected PFO collection\xspace}
\DeclareRobustCommand{\TightPFO}{Tight selected PFO collection\xspace}
\DeclareRobustCommand{\PFO}{PFO\xspace}
\DeclareRobustCommand{\PFOs}{PFOs\xspace}

\DeclareRobustCommand{\cluster}{cluster\xspace}
\DeclareRobustCommand{\clusters}{clusters\xspace}
\DeclareRobustCommand{\pandora}{PandoraPFA\xspace}
\DeclareRobustCommand{\fourMomentum}{four-momentum\xspace}
%\DeclareRobustCommand{\arXivCode}[1]{arXiv:#1}
%\DeclareRobustCommand{\CP}{\ensuremath{\mathcal{CP}}\xspace}
%\DeclareRobustCommand{\CPviolation}{\CP-violation\xspace}
%\DeclareRobustCommand{\CPv}{\CPviolation}
%\DeclareRobustCommand{\LHCb}{LHCb\xspace}
%\DeclareRobustCommand{\LHC}{LHC\xspace}
%\DeclareRobustCommand{\LEP}{LEP\xspace}
\DeclareRobustCommand{\CERN}{CERN\xspace}
\DeclareRobustCommand{\ILC}{ILC\xspace}
\DeclareRobustCommand{\CLIC}{CLIC\xspace}
\DeclareRobustCommand{\CLICILD}{CLIC\_ILD\xspace}
\DeclareRobustCommand{\CLICSiD}{CLIC\_SiD\xspace}
\DeclareRobustCommand{\ILD}{ILD\xspace}
\DeclareRobustCommand{\SiD}{SiD\xspace}
\DeclareRobustCommand{\ilcsoft}{iLCSoft\xspace}
\DeclareRobustCommand{\lcfiplus}{LCFIPlus\xspace}
\DeclareRobustCommand{\ILCloi}{\ILC Letter of Intent\xspace}
\DeclareRobustCommand{\CLICcdr}{\CLIC Concept Design Report\xspace}
\DeclareRobustCommand{\ECAL}{ECAL\xspace}
\DeclareRobustCommand{\HCAL}{HCAL\xspace}
\DeclareRobustCommand{\FCAL}{FCAL\xspace}
\DeclareRobustCommand{\TPC}{TPC\xspace}
\DeclareRobustCommand{\VTX}{VTX\xspace}
\DeclareRobustCommand{\SIT}{SIT\xspace}
\DeclareRobustCommand{\SET}{SET\xspace}
\DeclareRobustCommand{\FTD}{ETD\xspace}
\DeclareRobustCommand{\ETD}{ETD\xspace}
\DeclareRobustCommand{\LumiCAL}{LumiCAL\xspace}
\DeclareRobustCommand{\BeamCAL}{BeamCAL\xspace}
\DeclareRobustCommand{\LHCAL}{LHCAL\xspace}
\DeclareRobustCommand{\BX}{BX\xspace}

\DeclareRobustCommand{\IP}{IP\xspace}

\DeclareRobustCommand{\Mokka}{\textsc{Mokka}\xspace}
\DeclareRobustCommand{\TMVA}{\textsc{TMVA}\xspace}
% TODO

\DeclareRobustCommand{\Pythia}{\textsc{PYTHIA}\xspace}
%


%\DeclareRobustCommand{\bphysics}{\Pbottom-physics\xspace}
%\DeclareRobustCommand{\bhadron}{\Pbottom-hadron\xspace}
%\DeclareRobustCommand{\Bmeson}{\PB-meson\xspace}
%\DeclareRobustCommand{\bbaryon}{\Pbottom-baryon\xspace}
%\DeclareRobustCommand{\Bdecay}{\PB-decay\xspace}
%\DeclareRobustCommand{\bdecay}{\Pbottom-decay\xspace}
%\DeclareRobustCommand{\BToKPi}{\HepProcess{ \PB \to \PK \Ppi }\xspace}
%\DeclareRobustCommand{\BToPiPi}{\HepProcess{ \PB \to \Ppi \Ppi }\xspace}
%\DeclareRobustCommand{\BToKK}{\HepProcess{ \PB \to \PK \PK }\xspace}
%\DeclareRobustCommand{\BToRhoPi}{\HepProcess{ \PB \to \Prho \Ppi }\xspace}
%\DeclareRobustCommand{\BToRhoRho}{\HepProcess{ \PB \to \Prho \Prho }\xspace}
%\DeclareRobustCommand{\X}{\thesismath{X}\xspace}
%\DeclareRobustCommand{\Xbar}{\thesismath{\overline{X}}\xspace}
%\DeclareRobustCommand{\Xzero}{\HepGenParticle{X}{}{0}\xspace}
%\DeclareRobustCommand{\Xzerobar}{\HepGenAntiParticle{X}{}{0}\xspace}
%\DeclareRobustCommand{\epluseminus}{\Ppositron\!\Pelectron\xspace}
\DeclareRobustCommand{\pp}{\HepProcess{\Pproton\Pproton}\xspace}
\DeclareRobustCommand{\protonproton}{\pp}
